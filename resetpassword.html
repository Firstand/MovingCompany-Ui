<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>注册-巧瓜搬家网</title>
		<meta name="keywords" content="巧瓜搬家网,搬家,搬家公司,搬家网">
		<meta name="description" content="【巧瓜搬家信息网】是一个网上搬家信息服务平台。主要提供：搬家服务公司的基础搬家信息、搬家电话、搬家价格。巧瓜搬家信息网，用心服务每一位客户。">
		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="css/1.css">
		<link rel="stylesheet" href="css/2.css">
		<link rel="stylesheet" href="css/3.css">
		<link rel="stylesheet" href="css/4.css">
	</head>
	<body>
		<div class="header">
			<div class="head-top flex align-center justify-between pad-lr">
				<p><strong>欢迎进入北京巧瓜搬家网</strong>　<span>北京</span> </p>
				<ul class="head-top-ul">
					<li>
						<p style="display: flex;width: 100%;height: 40px;align-items: center;font-size: 14px; margin-right: 6px;" href="javascript:;">今天是
							2020年08月31日 星期一</p>
					</li>
					<li class="loginregsiter"><a href="login.html">登录</a>|</li>
					<li class="loginregsiter"><a href="register.html">注册</a>|</li>
					<li class="loginregsiter1"><a href="gerenzhongxin.html">个人中心</a>|</li>
					<li class="loginregsiter1"><a href="logout.html">退出登录</a>|</li>
					<li class="index-tel">
						<div class="index-ewm"><img src="images/af75df6a293181ef8c533718d934de4e.png" style="width:120px" alt="巧瓜搬家网"><span></span></div>

					<li><a href="javascript:;" title="24小时客服电话">24小时客服电话：0857-6337257</a></li>
				</ul>
			</div>
			<div class="p3-head pad-lr flex align-center justify-between">
				<div class="logo">
					<a href="/"> <img src="images/eb398ea0f162ef72eedad803699a0db1.png" width="221" height="52" alt></a>
				</div>
				<div class="p3-head-btn">
					<a class="reg-backhome" href="index.html">返回首页</a>
					已有账号，立即
					<a href="login.html">登录</a>
				</div>
			</div>
		</div>
		<div class="contWidth bg-fff reposirion">
			<p class="text-center" style="font-size: 26px;font-weight: 700;padding-top: 50px;">忘记密码</p>
			<form onsubmit="return false;" id="regform">
				<div class="reg-step-user reg-step">
					<div class="basic-form-group ">
						<label class="control-label">邮箱</label>
						<div class="basic-input">
							<input type="email" class="form-control basic-text-default" id="email" name="email">
							<span class="input-notice">请输入您的邮箱地址</span>
							<div class="input-tab" id="email-tab">
								<i class="iconfont  i-error">&#xe615;</i>
							</div>
						</div>
					</div>
					<div class="errorText" id="email-text"></div>
					<div class="basic-form-group">
						<label class="control-label">邮箱验证码</label>
						<div class="basic-input code-input">
							<input type="text" class="form-control basic-text-default" id="txtCode" name="code">
							<span class="input-notice">请输入6位验证码</span>
							<div class="input-tab">
								<i class="iconfont  i-error">&#xe615;</i>
							</div>
						</div>
						<!-- <a href="javascript:" class="basic-btn-brown b-radius code-btn p3-hqyzm forgetBtn">发送验证码</a> -->
						<input type="button" class="basic-btn-brown b-radius code-btn forgetBtn" value="获取验证码" />
					</div>
					<div class="errorText"></div>
					<div class="basic-form-group ">
						<label class="control-label">新密码</label>
						<div class="basic-input">
							<input type="password" class="form-control basic-text-default" id="txtPwd" name="password">
							<span class="input-notice">请输入密码</span>
							<div class="input-tab">
								<i class="iconfont  i-error">&#xe615;</i>
							</div>
						</div>
						<div class="reg-pass-grade reg-low hidden">
							<span>弱</span>
							<ul class="clearflow">
								<li class="li-on"></li>
								<li></li>
								<li></li>
								<li></li>
								<li></li>
							</ul>
						</div>
						<div class="reg-pass-grade reg-mid hidden">
							<span>中</span>
							<ul class="clearflow">
								<li class="li-on"></li>
								<li class="li-on"></li>
								<li class="li-on"></li>
								<li></li>
								<li></li>
							</ul>
						</div>
						<div class="reg-pass-grade reg-hight hidden">
							<span>强</span>
							<ul class="clearflow">
								<li class="li-on"></li>
								<li class="li-on"></li>
								<li class="li-on"></li>
								<li class="li-on"></li>
								<li class="li-on"></li>
							</ul>
						</div>
					</div>
					<div class="errorText"></div>
					<div class="basic-form-group">
						<label class="control-label">确认密码</label>
						<div class="basic-input">
							<input type="password" class="form-control basic-text-default" id="txtPwd2" name="enpassword">
							<span class="input-notice">请再次输入密码</span>
							<div class="input-tab">
								<i class="iconfont  i-error">&#xe615;</i>
							</div>
						</div>
					</div>
					<div class="errorText"></div>
					<!-- <a href="javascript:" class="basic-btn-brown b-radius reg-btn" id="subreg"><i class="weui-loading"></i>重置密码</a> -->
					<input type="submit" class="basic-btn-brown b-radius reg-btn" id="subreg" value="重置密码" /><i class="weui-loading"></i>
				</div>
			</form>


		</div>
		<div class="footer">
			<div class="foot-top pad-lr">
				<div class="flex align-center justify-between">
					<div>
						<div class="foot-top-box">
							<div class="foot-top-tit">关于我们</div>
							<ul class="foot-top-ul">
								<li><a href="https://bj.qgbjvip.com/introduction.html">公司介绍</a></li>
								<li><a href="https://bj.qgbjvip.com/culture.html">企业文化</a></li>
								<li><a href="https://bj.qgbjvip.com/legal.html">法律申明和隐私条款</a></li>
								<li><a href="https://bj.qgbjvip.com/agreement.html">用户协议</a></li>
								<li><a href="https://bj.qgbjvip.com/joinus.html">招贤纳士</a></li>
							</ul>
						</div>
						<div class="foot-top-box foot-top-box2">
							<div class="foot-top-tit">服务分类</div>
							<ul class="foot-top-ul">
								<li> <a href="https://bj.qgbjvip.com/product-2-0-0-0-0-1.html" rel="nofollow" }>居民搬家</a> </li>
								<li> <a href="https://bj.qgbjvip.com/product-3-0-0-0-0-1.html" rel="nofollow" }>公司搬家</a> </li>
								<li> <a href="https://bj.qgbjvip.com/product-4-0-0-0-0-1.html" rel="nofollow" }>小型搬家</a> </li>
								<li> <a href="https://bj.qgbjvip.com/product-5-0-0-0-0-1.html" rel="nofollow" }>长途搬家</a> </li>
								<li> <a href="https://bj.qgbjvip.com/product-6-0-0-0-0-1.html" rel="nofollow" }>空调移机</a> </li>
								<li> <a href="https://bj.qgbjvip.com/product-7-0-0-0-0-1.html" rel="nofollow" }>设备拆迁</a> </li>
								<li> <a href="https://bj.qgbjvip.com/product-8-0-0-0-0-1.html" rel="nofollow" }>起重吊装</a> </li>
								<li> <a href="https://bj.qgbjvip.com/product-9-0-0-0-0-1.html" rel="nofollow" }>搬家搬场</a> </li>
								<li> <a href="https://bj.qgbjvip.com/product-10-0-0-0-0-1.html" rel="nofollow" }>钢琴搬运</a> </li>
								<li> <a href="https://bj.qgbjvip.com/product-11-0-0-0-0-1.html" rel="nofollow" }>家具拆装</a> </li>
								<li> <a href="https://bj.qgbjvip.com/product-12-0-0-0-0-1.html" rel="nofollow" }>搬运人力</a> </li>
								<li> <a href="https://bj.qgbjvip.com/product-13-0-0-0-0-1.html" rel="nofollow" }>国际搬家</a> </li>
							</ul>
						</div>
						<div class="foot-top-box">
							<div class="foot-top-tit">商业合作</div>
							<ul class="foot-top-ul">
								<li><a href="addinfo.html">商家入驻</a></li>
								<li><a href="addinfo.html">信息发布</a></li>
							</ul>
						</div>
						<div class="foot-top-box" style="margin-right: 0">
							<div class="foot-top-tit">联系我们</div>
							<ul class="foot-top-ul">
								<li><a href="http://wpa.qq.com/msgrd?v=3&uin=2830801730&site=qq&menu=yes" target="_blank">客服QQ：2830801730</a></li>
								<li><a>邮箱：zsbb168@163.com</a></li>
								<li><a>违法信息举报邮箱：shansheng168@163.com</a></li>
								<li><a>侵权投诉邮箱：H168vip@163.com</a></li>
							</ul>
						</div>
					</div>
					<div class="foot-top-box3 flex align-center">
						<div class="foot-top-box3-div">
							<p>微信扫一扫</p>
							<p>获取更多资讯</p>
						</div> <img width="121px" height="121" src="images/f6a557a3b6e536b9c669d0e16594bb75.jpeg" alt="巧瓜搬家网">
					</div>
				</div>
			</div>
			<div class="clear"></div>
			<div class="foot-bottom" style="margin-top: 20px">
				<p class="foot-bottom-p1">贵州达月乐网络科技有限公司版权所有 <a href="http://www.beian.miit.gov.cn" rel="nofollow" target="_blank">黔ICP备18004443号-5
					</a> 北京巧瓜搬家网 Copyright © 2020, All Rights Reserved </p>
				<p class="foot-bottom-p1">关键词：<a href="/">北京搬家公司</a> <span><a href="https://bj.qgbjvip.com/">北京搬家网</a></span> <span><a
						 href="https://bj.qgbjvip.com/">北京搬家公司网</a></span> <span><a href="https://bj.qgbjvip.com/">北京搬家</a></span> <span><a
						 href="https://bj.qgbjvip.com/">北京巧瓜搬家网</a></span> </p>
			</div>
		</div>
		<script src="js/jquery.js"></script>
		<script src="js/code-v1.js"></script>
		<script src="js/jquery.cookie.js"></script>
		<script src="js/data.tools.js"></script>
		<script src="js/data.dispose.js"></script>
		<script src="js/countdown.js"></script>
		<script src="js/jquery.md5.js"></script>
		<script>
			$(function() {
				//密码输入完毕验证密码级别
				$("#txtPwd").blur(function() {
					var pwd = $(this).val();
					pwd = $.trim(pwd);
					if (pwd == "" || pwd.length < 6 || pwd.length > 12) {
						$(this).parents(".basic-form-group").addClass("basic-has-error");
						$(this).parents(".basic-form-group").next(".errorText").text("请填写6-12位密码");
						return;
					}
					var grade = pwdGrade(pwd);
					switch (grade) {
						case 1:
							$(".reg-pass-grade:not(.hidden)").addClass("hidden");
							$(".reg-low").removeClass("hidden");
							break;
						case 2:
							$(".reg-pass-grade:not(.hidden)").addClass("hidden");
							$(".reg-mid").removeClass("hidden");
							break;
						case 3:
							$(".reg-pass-grade:not(.hidden)").addClass("hidden");
							$(".reg-hight").removeClass("hidden");
							break;
						default:
							break;
					}
				});
				$(document).on("input propertychange", "#txtPwd", function() {
					$(".reg-pass-grade").addClass("hidden");
				});
				$(document).on("click", ".reg-btn", function() {
					var mobile = $("#email").val();
					var code = $("#txtCode").val();
					var pwd = $("#txtPwd").val();
					var pwd2 = $("#txtPwd2").val();
					if ($.trim(mobile) == "") {
						$("#email").parents(".basic-form-group").addClass("basic-has-error");
						$("#email").parents(".basic-form-group").next(".errorText").text("请填写邮箱");
						return;
					}
					
					if ($.trim(code) == "") {
						$("#txtCode").parents(".basic-form-group").addClass("basic-has-error");
						$("#txtCode").parents(".basic-form-group").next(".errorText").text("请填写验证码");
						return;
					}
					if ($.trim(pwd) == "") {
						$("#txtPwd").parents(".basic-form-group").addClass("basic-has-error");
						$("#txtPwd").parents(".basic-form-group").next(".errorText").text("请填写密码");
						return;
					}
					var grade = pwdGrade(pwd);
					if (grade == 1) {
						$("#txtPwd").parents(".basic-form-group").addClass("basic-has-error");
						$("#txtPwd").parents(".basic-form-group").next(".errorText").text("注册密码过于简单，请使用数字、字母、特殊符号组合");
						return;
					} else {
						$("#txtPwd").parents(".basic-form-group").removeClass("basic-has-error");
						$("#txtPwd").parents(".basic-form-group").next(".errorText").text("");
					}
					if (pwd != pwd2) {
						$("#txtPwd2").parents(".basic-form-group").addClass("basic-has-error");
						$("#txtPwd2").parents(".basic-form-group").next(".errorText").text("两次密码不一致");
						return;
					}
					
					var my = window.sessionStorage.getItem("appEmailVerifyCode");
					if(my!=null&&my!=''){
						var mydata = $.parseJSON(my);
						if(mydata.msg=="ok"){
							if(mydata.code==$.md5($("#txtCode").val())){
								if(mydata.email==$("#email").val()){
									var json = {};
									json['email'] = $("#email").val();
									json['password'] = pwd;
									url = "updatePassword";
									MySubmitString(JSON.stringify(json), url, function(data) {
										if (data != null&&data.msg == "ok") {
											alert("密码修改成功！");
											window.location.href = "login.html";
										}
										else{
											$("#txtPwd2").parents(".basic-form-group").next(".errorText").text("密码修改失败！");
										}
									})
								}
								else{
									var json = {};
									json['msg'] = "no";
									window.sessionStorage.setItem("appEmailVerifyCode",JSON.stringify(json));
									$("#email").parents(".basic-form-group").addClass("basic-has-error");
									$("#email").parents(".basic-form-group").next(".errorText").text("您的邮箱已发生改变，请重新获取验证码!");
								}
							}
							else{
								$("#txtCode").parents(".basic-form-group").addClass("basic-has-error");
								$("#txtCode").parents(".basic-form-group").next(".errorText").text("验证码错误！");
							}
						}
						else if(mydata.msg=="no_11"){
							$("#email").parents(".basic-form-group").addClass("basic-has-error");
							$("#email").parents(".basic-form-group").next(".errorText").text("该邮箱尚未注册！");
						}
						else{
							$("#txtCode").parents(".basic-form-group").addClass("basic-has-error");
							$("#txtCode").parents(".basic-form-group").next(".errorText").text("验证码失效，请重新获取！");
						}
					}
					else{
						alert("请填写邮箱并获取验证码！");
					}
				});
			});

			function pwdGrade(pwd) {
				var grade = 0;
				if (/^[a-z]+$/.test(pwd) || /^\d+$/.test(pwd)) {
					return 1;
				}
				if (/^[a-z1-9]+$/.test(pwd)) {
					return 2;
				}
				return 3;

			}
		</script>
		<script>
			$(".read-pr .iconfont").click(function() {
				var t = $(this).hasClass("icon-on");
				if (t) {
					$(this).removeClass("icon-on");
					$(this).html("&#xe60f;");
				} else {
					$(this).addClass("icon-on");
					$(this).html("&#xe616;");
				}
			});

			$('.p3-password').click(function() {
				var num = $(this).attr('num');
				if (num == 1) {
					$(this).siblings('input').attr('type', 'text')
					$(this).attr('num', 2)
				} else {
					$(this).siblings('input').attr('type', 'password')
					$(this).attr('num', 1)
				}
			})
		</script>
	</body>
</html>
